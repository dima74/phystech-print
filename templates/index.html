{% extends "with_navbar.html" %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="/static/index.css?{{ current_time }}">
    <link rel="stylesheet" href="/static/loader.css">
{% endblock %}

{% block nav_content %}
    <div class="nav-content">
        <ul class="tabs tabs-transparent">
            <li class="tab"><a href="#form_upload_div">Загрузить файл</a></li>
            <li class="tab"><a href="#print_preview">Превью</a></li>
            <li class="tab"><a href="#tasks_current_wrapper">Текущие заказы</a></li>
            <li class="tab"><a href="#tasks_history_wrapper">История заказов</a></li>
        </ul>
    </div>
{% endblock %}

{% block body %}
    {% if not local %}
        <div id="loader-wrapper">
            <div id="loader"></div>
            <div class="loader-section section-left"></div>
            <div class="loader-section section-right"></div>
        </div>
    {% endif %}

    {{ super() }}

    <div id="file_dragged_wrapper">
        <div id="file_dragged_body_cover"></div>
        <div id="file_dragged_holder">
            <div id="file_dragged">
                <h1 id="file_dragged_single">Отпустите файл, <br/>он загрузится автоматически</h1>
                <h1 id="file_dragged_multiple">Отпустите файлы, <br/>они загрузятся автоматически</h1>
            </div>
        </div>
    </div>

    <div id="main_container_wrapper">
        <div id="main_container">
            <div id="tasks_current_wrapper">
                <div id="tasks_current">
                    <table class="highlight">
                        <thead>
                        <tr>
                            <th>Время</th>
                            <th>Файл</th>
                            <th>Страниц</th>
                            <th>Цена</th>
                            <th>Принтер</th>
                            <th>С1</th>
                            <th>С2</th>
                            <th>С3</th>
                        </tr>
                        </thead>

                        <tbody id="tasks_current_tbody" class="tasks_tbody"></tbody>
                    </table>
                </div>
            </div>

            <div id="form_upload_div">
                <div id="form_upload_card" class="card card-disable-p-margin">
                    <div id="form_upload_card_content" class="card-content">

                        <form id="form_upload" method="POST">
                            <div id="form_upload_input_file">
                                <div></div>
                                <p class="hide-on-med-and-down">Перетащите файл в любое место</p>
                                <p class="hide-on-med-and-down">или</p>
                                <div id="form_upload_input_file_button">
                                    <input type="file" name="file" id="file" class="inputfile" autofocus multiple>
                                    <label id="form_upload_input_file_label" for="file" class="waves-effect waves-light btn">Выберите файл</label>
                                </div>
                                <div></div>
                            </div>

                            <div id="form_upload_options">
                                <p>
                                    <input type="checkbox" id="form_upload_checkbox_color" name="color" class="filled-in">
                                    <label for="form_upload_checkbox_color">Цветная печать</label>
                                </p>
                                <p>
                                    <input type="checkbox" id="form_upload_checkbox_land" name="land" class="filled-in">
                                    <label for="form_upload_checkbox_land">Альбомная ориентация</label>
                                </p>
                                <p>
                                    <input type="checkbox" id="form_upload_checkbox_duplex" name="duplex" class="filled-in">
                                    <label for="form_upload_checkbox_duplex">Двусторонняя печать</label>
                                </p>
                                <p>
                                    <input type="checkbox" id="form_upload_checkbox_longedge" name="longedge" class="filled-in" checked="checked" disabled="disabled">
                                    <label for="form_upload_checkbox_longedge">Длинная сторона</label>
                                </p>

                                <p>Страниц на один лист:
                                    <select id="form_upload_select_number_pages" class="browser-default" name="number_pages_on_list">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="4">4</option>
                                        <option value="16">16</option>
                                    </select></p>
                            </div>
                        </form>

                    </div>
                </div>
            </div>

            <div id="tasks_history_wrapper">
                <div id="tasks_history">
                    <table class="highlight">
                        <thead>
                        <tr>
                            <th>Время</th>
                            <th>Файл</th>
                            <th>Страниц</th>
                            <th>Принтер</th>
                            <th>Статус</th>
                            <th>С1</th>
                            <th>С2</th>
                        </tr>
                        </thead>

                        <tbody id="tasks_history_tbody" class="tasks_tbody"></tbody>
                    </table>
                </div>
            </div>

            <div id="print_preview">
                <div id="print_preview_image_wrapper">
                    <div id="print_preview_loader" class="preloader-wrapper active big">
                        <div class="spinner-layer spinner-green-only">
                            <div class="circle-clipper left">
                                <div class="circle"></div>
                            </div>
                            <div class="gap-patch">
                                <div class="circle"></div>
                            </div>
                            <div class="circle-clipper right">
                                <div class="circle"></div>
                            </div>
                        </div>
                    </div>
                    <img id="print_preview_image" class="hide-while-print-preview-loads">
                </div>
                <div id="print_preview_navigation" class="hide-while-print-preview-loads">
                    <i id="print_preview_navigate_before" class="material-icons waves-effect small print-preview-navigate icon">navigate_before</i>
                    <p id="print_preview_current_page"></p>
                    <i id="print_preview_navigate_next" class="material-icons waves-effect small print-preview-navigate icon">navigate_next</i>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    {{ super() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.11/socket.io.js"></script>
    <script src="/static/index.js?{{ current_time }}"></script>
{% endblock %}