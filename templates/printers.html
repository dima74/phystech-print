{% extends "with_navbar.html" %}

{% block head %}
    <style>
        #left {
            width: 50%;
        }

        .printer-info-paper-wrapper {
            position: absolute;
            height: 100%;
            right: 10px;
            display: flex;
            align-items: center;
        }

        .printer-info-title {
            text-align: center;
        }

        .printer-status {
            position: absolute;
        }
    </style>
{% endblock %}

{% block body %}
    {{ super() }}
    <div id="left">
        <div class="row">
            {% for printer in printers %}
                <div class="col m6">
                    <div class="card">
                        <div class="printer-info-paper-wrapper">
                            <img src="/pic/paper.png?pid={{ printer.id }}&time={{ current_time }}" class="printer-info-paper">
                        </div>
                        <div class="card-content">
                            <svg height="32" width="32" class="printer-status">
                                <defs>
                                    <linearGradient id="printer_status_gradient_{{ printer.id }}" {#x1="16" y1="16" x2="0" y2="0"#} gradientTransform="rotate(45)">
                                        <stop offset="0%" style="stop-color: white;" stop-opacity="0.5"/>
                                        <stop offset="100%" style="stop-color: {{ printer.status_color }};"/>
                                    </linearGradient>
                                </defs>
                                <circle cx="16" cy="16" r="15" fill="url(#printer_status_gradient_{{ printer.id }})"/>
                            </svg>
                            <div class="card-title printer-info-title">
                                <span>Принтер {{ printer.name }}</span>
                            </div>
                            <p>{{ printer.textaction }}</p>
                            <p>Осталось страниц: {{ printer.paperremainder }}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}